# Environment-Based Configuration
# Automatic settings based on hostname patterns

# === DEVELOPMENT ENVIRONMENTS ===
Host *-dev *-dev-* *-development *-development-*
    # Relaxed for rapid iteration, but still verify on first connect
    StrictHostKeyChecking accept-new
    UserKnownHostsFile ~/.ssh/known_hosts.dev
    LogLevel ERROR

    # Note: Never use "StrictHostKeyChecking no" even in dev
    # Use "accept-new" instead - verifies on first connection

# === STAGING ENVIRONMENTS ===
Host *-stg *-stg-* *-staging *-staging-*
    StrictHostKeyChecking ask
    UserKnownHostsFile ~/.ssh/known_hosts.staging
    LogLevel INFO

# === PRODUCTION ENVIRONMENTS ===
Host *-prod *-prod-* *-production *-production-*
    # Maximum security for production
    StrictHostKeyChecking yes
    LogLevel VERBOSE

    # Enforce key-only authentication
    PasswordAuthentication no
    ChallengeResponseAuthentication no

    # Never forward agents to production
    ForwardAgent no
    ForwardX11 no

    # Require explicit identity file (no defaults)
    IdentitiesOnly yes
